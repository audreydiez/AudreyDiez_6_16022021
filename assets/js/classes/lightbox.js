export class Lightbox{constructor(){this.links=document.querySelectorAll('a[href$=".png"], a[href$=".jpg"], a[href$=".jpeg"], a[href$=".mp4"]'),this.img_pushed=document.getElementById("img-pushed"),this.video_pushed=document.getElementById("video-pushed"),this.video_tag=document.getElementById("video-tag"),this.backgroundMaskLightbox=document.getElementById("backgroundMaskLightbox"),this.closeLightboxBtn=document.querySelector(".close-btn"),this.previousBtn=document.getElementById("previous"),this.nextBtn=document.getElementById("next"),this.lightboxContainer=document.getElementById("lightbox__container"),this.currentIndex=0;let e=0;this.links.forEach((t=>{t.index=e,t.addEventListener("click",(e=>{e.preventDefault(),this.currentIndex=e.currentTarget.index,this.changeImageURL(t.pathname),this.openLightbox()})),e++})),this.closeLightboxBtn.addEventListener("click",this.closeLightbox),this.img_pushed.addEventListener("click",(e=>e.stopPropagation())),this.lightboxContainer.addEventListener("click",this.closeLightbox),this.previousBtn.addEventListener("click",(()=>this.previousIMG())),this.nextBtn.addEventListener("click",(()=>this.nextIMG())),window.addEventListener("keydown",(e=>{switch(e.key){case"Left":case"ArrowLeft":this.previousIMG();break;case"Right":case"ArrowRight":this.nextIMG();break;case"Esc":case"Escape":this.closeLightbox();break;default:return}})),document.getElementById("lightboxTitle").addEventListener("keydown",(e=>{9===e.keyCode&&document.getElementById("closeLightbox").focus()}))}changeImageURL(e){"mp4"===e.split(".").pop().toString()?(this.video_tag.style.display="block",this.img_pushed.style.display="none",this.video_pushed.setAttribute("src",e),this.video_tag.load(),this.video_tag.play()):"jpg"===e.split(".").pop().toString()&&(this.video_tag.style.display="none",this.img_pushed.style.display="block",this.img_pushed.src=e)}openLightbox(){this.backgroundMaskLightbox.style.display="flex",document.getElementById("closeLightbox").focus()}closeLightbox(){this.backgroundMaskLightbox=document.getElementById("backgroundMaskLightbox"),this.backgroundMaskLightbox.style.display="none"}nextIMG(){this.changeImageIndex("next");let e=this.links[this.currentIndex].pathname;this.changeImageURL(e)}previousIMG(){this.changeImageIndex("previous");let e=this.links[this.currentIndex].pathname;this.changeImageURL(e)}changeImageIndex(e){"previous"===e?0===this.currentIndex?this.currentIndex=this.links.length-1:this.currentIndex--:"next"===e&&(this.currentIndex===this.links.length-1?this.currentIndex=0:this.currentIndex++)}}