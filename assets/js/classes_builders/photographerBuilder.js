import{Lightbox}from"../classes/lightbox";export class photographerBuilder{constructor(e,t){this.photographerDetail=e,this.photographerMedias=t,this.init()}init(){null!=document.getElementById("main-photographer-detail")&&this.renderPhotographer()}renderPhotographer(){this.displayProfile(),this.displayMedia(this.photographerMedias)}displayProfile(){let e=document.getElementById("main-photographer-detail"),t=document.createElement("section");t.classList.add("profile"),t.setAttribute("aria-label","photographers");let s="";this.photographerDetail.tags.forEach((e=>{s+=`<li class="hashtag">#${e}</li>`})),t.innerHTML=`\n            <h1 class="profil-title profil-title--small">${this.photographerDetail.name}</h1>\n            <div class="profile__location">${this.photographerDetail.city}, ${this.photographerDetail.country}</div>\n            <div class="profile__quote">${this.photographerDetail.tagline}</div>\n            <ul class="profile__tags">\n                ${s} \n            </ul>\n            <div class="profile__avatar">\n                <figure class="avatar">\n                    <img src="assets/images/pictures/${this.photographerDetail.portrait}" alt="avatar" class="avatar__img">\n                </figure>\n            </div>            \n            `,e.prepend(t)}displayMedia(e){this.removePicturesList();let t=document.getElementById("pictures"),s="",i=0;e.forEach((e=>{i+=e.likes,s="video"===e.type?`<img src="assets/images/pictures/${e.poster}" alt="${e.description}" class="photo__img">`:`<img src="assets/images/pictures/${e.url}" alt="${e.description}" class="photo__img">`;let a=document.createElement("article");a.classList.add("pictures__picture"),a.setAttribute("aria-label","Images et vidéos du photographe"),a.innerHTML=`\n              <figure class="photo">\n                  <a href="assets/images/pictures/${e.url}" type="${e.type}">\n                       ${s}\n                  </a>\n                  <figcaption class="photo__details">\n                       <h2 class="photo-title">${e.name}</h2>\n                       <p class="price">${e.price}€</p>\n                       <a href="#" class="likes likesBlock"><span class="likes">${e.likes} </span><i class="fas fa-heart"></i></a>\n                  </figcaption>\n              </figure>  \n            `,t.appendChild(a)})),new Lightbox,this.setComportmentLikesCounter(),this.setTotalLikescounter(i)}setComportmentLikesCounter(){let e=document.getElementsByClassName("likesBlock");e=Array.from(e),e.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();let s=e.getElementsByClassName("likes");s=Array.from(s),s[0].innerHTML=(parseInt(s[0].innerHTML)+1).toString()}))}))}removePicturesList(){let e=document.getElementsByTagName("article");for(let t=e.length-1;t>=0;--t)e[t].remove()}setTotalLikescounter(e){document.getElementById("day-rate__likes").innerHTML=e+' <i class="fas fa-heart"></i>'}}